<% if catalogs.any? %>
  <div class="overflow-x-auto">
    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th><%= Catalog.human_attribute_name(:name) %></th>
          <th><%= Catalog.human_attribute_name(:category) %></th>
          <th><%= Catalog.human_attribute_name(:description) %></th>
          <th class="w-48"></th>
        </tr>
      </thead>
      <tbody>
        <% catalogs.each do |catalog| %>
          <tr class="<%= 'opacity-50' if catalog.discontinued? %>">
            <td>
              <%= catalog.name %>
              <% if catalog.discontinued? %>
                <span class="badge badge-ghost badge-sm ml-2">提供終了</span>
              <% end %>
            </td>
            <td>
              <span class="badge badge-outline">
                <%= t("enums.catalog.category.#{catalog.category}") %>
              </span>
            </td>
            <td class="max-w-xs truncate"><%= catalog.description %></td>
            <td>
              <div class="flex gap-2">
                <%= link_to catalog_path(catalog), class: "btn btn-ghost btn-sm" do %>
                  <%= t("helpers.link.show") %>
                <% end %>
                <%= link_to edit_catalog_path(catalog), class: "btn btn-ghost btn-sm" do %>
                  <%= t("helpers.link.edit") %>
                <% end %>
                <% unless catalog.discontinued? %>
                  <%= link_to catalog_path(catalog),
                              class: "btn btn-ghost btn-sm text-error",
                              data: { turbo_method: :delete, turbo_confirm: t("helpers.confirm.delete") } do %>
                    <%= t("helpers.link.delete") %>
                  <% end %>
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="text-center py-12 text-base-content/60">
    <%= component "icons/catalog", extra_class: "h-12 w-12 mx-auto mb-4 opacity-50", stroke_width: 1 %>
    <p><%= t("catalogs.index.empty_message") %></p>
  </div>
<% end %>
