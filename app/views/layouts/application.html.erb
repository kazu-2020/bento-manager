<!DOCTYPE html>
<html data-theme="bumblebee">
  <head>
    <%= render "shared/head" %>
  </head>

  <body class="min-h-screen bg-base-100">
    <%# Drawer レイアウト: lg以上でサイドバー常時表示 %>
    <div class="drawer lg:drawer-open">
      <input id="main-drawer" type="checkbox" class="drawer-toggle" />

      <%# メインコンテンツエリア %>
      <div class="drawer-content flex flex-col">
        <%# ナビゲーションバー %>
        <%= render "shared/navbar" %>

        <%# Flash メッセージ %>
        <% if notice.present? %>
          <div class="alert alert-success mx-4 mt-4 shadow-sm">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span><%= notice %></span>
          </div>
        <% end %>

        <% if alert.present? %>
          <div class="alert alert-error mx-4 mt-4 shadow-sm">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
            <span><%= alert %></span>
          </div>
        <% end %>

        <%# ページコンテンツ %>
        <main class="flex-1 p-6">
          <div class="max-w-6xl mx-auto">
            <%= yield %>
          </div>
        </main>

        <%# フッター %>
        <footer class="footer footer-center p-4 bg-base-200 text-base-content border-t border-base-300 lg:hidden">
          <p class="text-sm">&copy; <%= Date.current.year %> Bento Manager</p>
        </footer>
      </div>

      <%# サイドバー（ドロワー） %>
      <div class="drawer-side z-40">
        <label for="main-drawer" aria-label="メニューを閉じる" class="drawer-overlay"></label>
        <%= render "shared/sidebar" %>
      </div>
    </div>
  </body>
</html>
