<%# 戻るリンク（左上） %>
<nav class="mb-4">
  <%= link_to back_path, class: "inline-flex items-center gap-1 text-sm text-base-content/70 hover:text-base-content transition-colors" do %>
    <%= helpers.icon"arrow_left", size: :sm %>
    <%= t(".back_to_list") %>
  <% end %>
</nav>

<%# ヘッダーセクション: タイトル + ステータス + ケバブメニュー %>
<header class="flex items-center justify-between mb-6">
  <div class="flex items-center gap-3">
    <%= helpers.icon category_icon, size: :lg, extra_class: "text-primary" %>
    <h1 class="text-2xl font-bold text-base-content"><%= name %></h1>
    <%= component "catalog_status_badge", catalog: catalog %>
  </div>

  <% unless discontinued? %>
    <%# ケバブメニュー %>
    <div class="dropdown dropdown-end">
      <div tabindex="0" role="button" class="btn btn-ghost btn-sm btn-square">
        <%= helpers.icon"kebab", size: :md %>
      </div>
      <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-10 w-48 p-2 shadow-lg border">
        <li>
          <%= link_to new_discontinuation_path, data: { turbo_stream: true } do %>
            <%= helpers.icon"stop", size: :sm, extra_class: "text-error" %>
            <span class="text-error"><%= t(".discontinue") %></span>
          <% end %>
        </li>
      </ul>
    </div>
  <% end %>
</header>

<%# 基本情報カード %>
<%= component "catalogs/basic_info", catalog: catalog %>

<%# 価格・提供終了セクション（2カラム） %>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
  <%# 価格カード %>
  <%= component "catalogs/prices", catalog: catalog %>

  <%# 提供終了カード（終了時のみ表示） %>
  <%= component "catalogs/discontinuation", catalog: catalog %>
</div>

<%# 価格ルールカード %>
<%= component "catalogs/pricing_rules", catalog: catalog %>
