<div id="<%= dom_id %>" class="<%= card_classes %>">
  <div class="card-body p-4">
    <%# カード選択エリア %>
    <label class="flex items-center gap-3 cursor-pointer">
      <%# hidden field (未チェック時に "0" を送信) %>
      <input type="hidden" name="<%= field_name_prefix %>[selected]" value="0">
      <%# checkbox (チェック時に "1" で上書き) %>
      <input type="checkbox"
             name="<%= field_name_prefix %>[selected]"
             value="1"
             class="hidden"
             <%= "checked" if selected? %>
             data-action="change->ghost-form#submit">

      <%# ビジュアルチェックボックス %>
      <div class="<%= checkbox_visual_classes %>">
        <% if selected? %>
          <%= component "icons/check", extra_class: "h-4 w-4 text-accent-content" %>
        <% end %>
      </div>

      <span class="font-medium text-lg flex-1"><%= catalog_name %></span>
    </label>

    <%# ステッパー（選択時のみ表示） %>
    <% if selected? %>
      <div class="mt-4">
        <%= component "inputs/quantity_stepper", unit: t(".unit") do |c| %>
          <% c.with_input do %>
            <%= number_field_tag "#{field_name_prefix}[stock]", stock,
                  min: 1, max: 999, autocomplete: "off",
                  class: "input input-bordered w-20 text-center text-2xl font-bold",
                  data: { quantity_stepper_target: "input" } %>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
